<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="assets/images/logo.png" type="image/gif" sizes="16x16">

  <title>outdoorRepo</title>

  <!-- Google Fonts API -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:100,200,300,400,500,600,700,800,900" rel="stylesheet">

  <!-- Firebase UI Scripts -->
  <script src="https://www.gstatic.com/firebasejs/4.11.0/firebase.js"></script>
  <script src="https://cdn.firebase.com/libs/firebaseui/2.6.3/firebaseui.js"></script>
  <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/2.6.3/firebaseui.css" />

  <!-- Custom styles for this template -->
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="assets/css/app.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-beta.40/css/uikit.min.css">

  <body onload="setUpDash()">
    <header>
        <div uk-sticky="sel-target: .uk-navbar-container; cls-active: uk-navbar-sticky">
            <nav class="uk-navbar-container" uk-navbar>
                <div class="uk-navbar-left">
                    <img src="assets/images/logo.png" class="uk-navbar-item uk-logo">
                </div>
                <div class="uk-navbar-right">
                    <div class="uk-navbar-item">
                        <a class="uk-button uk-button-default" href="dashboard.html" id="user-settings">Back to Dashboard</a>
                    </div>
                    <div class="uk-navbar-item">
                        <a class="uk-button uk-button-primary" id="logout">Logout</a>
                    </div>
                </div>
            </nav>
        </div>
    </header>





    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/typeit@5.5.0/dist/typeit.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-beta.40/js/uikit.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-beta.40/js/uikit-icons.min.js"></script>
    <script src="assets/app.js"></script>


    <script>
    // Initialize Firebase
    var config = {
        apiKey: "AIzaSyAM-t2CaMxXwb_HMZaqs-QHaGe1KETwmUM",
        authDomain: "outdoorrepo-e22c5.firebaseapp.com",
        databaseURL: "https://outdoorrepo-e22c5.firebaseio.com",
        projectId: "outdoorrepo-e22c5",
        storageBucket: "outdoorrepo-e22c5.appspot.com",
        messagingSenderId: "565862631025"
      };
      firebase.initializeApp(config);

      var database = firebase.database();

      //Auth Check & User Log
      var pathname = window.location.pathname;

    if (pathname == "/dashboard.html") {
      firebase.auth().onAuthStateChanged(function(user) {
        console.log('authStateChanged', user);
        if (user) {
        } else {
          window.location.replace("../index.html");
        }
      });
    }
    </script>

    <script>
    //Logout Script
      $("#logout").on("click", function() {
        firebase.auth().signOut().then(function() {
          // Sign-out successful.
          localStorage.clear();
          window.location.href = "index.html";
        }, function(error) {
        	console.log(error);
        });
      });
    </script>


    <script>

    firebase.auth().onAuthStateChanged(function(user) {
      if (user) {
              getUserProfile();
      } else {
        // No user is signed in.
      }
    });

    </script>

  </body>

</html>
