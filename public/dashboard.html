<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="assets/images/logo.png" type="image/gif" sizes="16x16">

  <title>outdoorRepo</title>

  <!-- Google Fonts API -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:100,200,300,400,500,600,700,800,900" rel="stylesheet">

  <!-- Firebase UI Scripts -->
  <script src="https://www.gstatic.com/firebasejs/4.11.0/firebase.js"></script>
  <script src="https://cdn.firebase.com/libs/firebaseui/2.6.3/firebaseui.js"></script>
  <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/2.6.3/firebaseui.css" />

  <!-- Custom styles for this template -->
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="assets/css/app.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-beta.40/css/uikit.min.css">

  <body onload="setUpDash()">
    <header>
      <div uk-sticky="sel-target: .uk-navbar-container; cls-active: uk-navbar-sticky">
        <nav class="uk-navbar-container" uk-navbar>
          <div class="uk-navbar-left">
            <img src="assets/images/logo.png" class="uk-navbar-item uk-logo">
          </div>
          <div class="uk-navbar-right">
            <div class="uk-navbar-item">
              <a class="uk-button uk-button-default" href="search.html" uk-toggle>Add Affiliates</a>
            </div>
            <div class="uk-navbar-item">
              <a class="uk-button uk-button-default" href="settings.html" id="user-settings">My Account </a>
            </div>
            <div class="uk-navbar-item">
              <a class="uk-button uk-button-default" href="#modal-center" uk-toggle>Tell a Friend</a>
            </div>
            <div class="uk-navbar-item">
              <a class="uk-button uk-button-primary" id="logout">Logout</a>
            </div>
          </div>
        </nav>
      </div>

      <div class="uk-text-center dash-one" uk-grid>

        <h1 id="welcome"></h1>
        <p>Your charity donations: <strong>${dollars}</strong></p>
        <p>Don't forget to stuff your cookie jar so you can keep on donating.</p>
        <button id="cookie-stuff" class="uk-button uk-button-primary" type="button">give me all the cookies</button>
      </div>
    </header>

    <main>

      <div class="uk-container uk-container-expand dash-two">
        <h1>Your Shopping Destinations</h1>
        <div class="uk-child-width-expand@s uk-text-center" uk-grid>

          <div>
            <div class="uk-card uk-card-default uk-card-body">
              <h3>Product #1</h3>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas non urna felis. Cras in ante eu ex facilisis bibendum eget ac neque.</p>
            </div>
          </div>
          <div>
            <div class="uk-card uk-card-default uk-card-body">
              <h3>Product #2</h3>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas non urna felis. Cras in ante eu ex facilisis bibendum eget ac neque.</p>
            </div>
          </div>
          <div>
            <div class="uk-card uk-card-default uk-card-body">
              <h3>Product #3</h3>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas non urna felis. Cras in ante eu ex facilisis bibendum eget ac neque.</p>
            </div>
          </div>
        </div>

        <div class="uk-child-width-expand@s uk-text-center" uk-grid>

          <div>
            <div class="uk-card uk-card-default uk-card-body">
              <h3>Product #4</h3>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas non urna felis. Cras in ante eu ex facilisis bibendum eget ac neque.</p>
            </div>
          </div>
          <div>
            <div class="uk-card uk-card-default uk-card-body">
              <h3>Product #5</h3>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas non urna felis. Cras in ante eu ex facilisis bibendum eget ac neque.</p>
            </div>
          </div>
          <div>
            <div class="uk-card uk-card-default uk-card-body">
              <h3>Product #6</h3>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas non urna felis. Cras in ante eu ex facilisis bibendum eget ac neque.</p>
            </div>
          </div>
        </div>
      </div>

      <div class="dash-three uk-text-center uk-container uk-container-expand">
        <h2>Your Donations</h2>
        <img id="charity-logo">
        <h3 id="display-charity"></h3>
        <p id="charity-description"></p>
        <a class="uk-button uk-button-primary" href="settings.html" type="button">Change my Charity</a>
      </div>
    </main>

    <footer>

      <div class="bottom-nav uk-text-center uk-margin-remove">
        <ul>
          <li>
            <a href="">Terms</a>
          </li>
          <li>
            <a href="">Support</a>
          </li>
          <!-- FAQ modal link -->
          <li>
            <a href="#faq-modal" uk-toggle>FAQs</a>
          </li>
        </ul>
        <p>
          Copyright &copy; 2018-2019 | outdoorRepo
        </p>
      </div>


    </footer>

    <!-- Refer a Friend Modal -->
    <div id="modal-center" class="uk-flex-top" uk-modal>
      <div class="uk-modal-dialog uk-modal-body uk-margin-auto-vertical">

        <button class="uk-modal-close-default" type="button" uk-close></button>

        <form action="">
          <!-- Put where we want the data to be sent in action -->
          <fieldset class="uk-fieldset">

            <legend class="uk-legend">
              <u>Tell a Friend</u>
            </legend>

            <div class="uk-margin">
              <label for="friendName">Friend's Name</label>
              <input class="uk-input" id="friendName" type="text" placeholder="Friend's Name Here...">
            </div>

            <div class="uk-margin">
              <label for="friendMail">Friend's Email</label>
              <input class="uk-input" id="friendMail" type="text" placeholder="Friend's Email Here...">
            </div>

            <div class="uk-margin">
              <label for="friendMessage">Optional Message</label>
              <textarea class="uk-textarea" id="friendMessage" rows="5" placeholder="Optional Message Here..."></textarea>
            </div>

            <button class="uk-button uk-button-primary" type="submit">Send</button>

          </fieldset>
        </form>

      </div>
    </div>



    <!--Account Setup Modal -->
    <div id="setup-modal" class="uk-flex-top" uk-modal>

      <div class="uk-modal-dialog uk-modal-body uk-margin-auto-vertical">
        <div id="setup-modal-text">
          <button class="uk-modal-close-default" type="button" uk-close></button>

          <form>
            <h2>It looks like you just logged in for the first time. Congrats!</h2>
            <p>We'd like to help you get your user dashboard set up!</p>

            <h3> What should we call you? <h3>
            <input class="uk-input" id="preferred-name">

            <h3>Which theme would you like to enable?</h3>
            <div class="uk-form-controls uk-form-controls-text">
              <p><input class="uk-radio" type="radio" name="theme" id="light-theme"> Light Theme</p>
              <p><input class="uk-radio" type="radio" name="theme" id="dark-theme"> Dark Theme</p>
            </div>

            <div class="uk-grid-small" uik-grid>
              <h3>What do you like to buy?</h3>
              <div class="uk-width-1-4@s">
                <p> <input class="uk-checkbox" value="hiking" id="hiking" type="checkbox"> Hiking Gear</p>
              </div>
              <div class="uk-width-1-4@s">
                <p> <input class="uk-checkbox" value="cycling" id="cycling" type="checkbox"> Cycling Gear</p>
              </div>
              <div class="uk-width-1-4@s">
                <p> <input class="uk-checkbox" value="snow-sports" id="snow-sports" type="checkbox"> Snow Sports</p>
              </div>
              <div class="uk-width-1-4@s">
                <p> <input class="uk-checkbox" value="gen-fitness" id="general-fitness" type="checkbox"> General Fitness</p>
              </div>
            </div>

            <h3>Which charity would you like to contribute to?</h3>
            <p><input class="uk-radio" value="water" name="charity" type="radio" id="water"> Water.org</p>
            <p><input class="uk-radio" value="sierra" name="charity" type="radio" id="sierra"> SierraClubFoundation.org</p>
            <p><input class="uk-radio" value="ocean" name="charity" type="radio" id="ocean"> OceanConservancy.org</p>
            <a type="button" class="uk-button uk-button-default" id="finished-setup" uk-toggle>Submit</a>
        </div>
      </div>
    </div>




    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/typeit@5.5.0/dist/typeit.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-beta.40/js/uikit.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-beta.40/js/uikit-icons.min.js"></script>
    <script src="assets/app.js"></script>


    <script>
    // Initialize Firebase
    var config = {
        apiKey: "AIzaSyAM-t2CaMxXwb_HMZaqs-QHaGe1KETwmUM",
        authDomain: "outdoorrepo-e22c5.firebaseapp.com",
        databaseURL: "https://outdoorrepo-e22c5.firebaseio.com",
        projectId: "outdoorrepo-e22c5",
        storageBucket: "outdoorrepo-e22c5.appspot.com",
        messagingSenderId: "565862631025"
      };
      firebase.initializeApp(config);

      var database = firebase.database();

      //Auth Check & User Log
      var pathname = window.location.pathname;

    if (pathname == "/dashboard.html") {
      firebase.auth().onAuthStateChanged(function(user) {
        console.log('authStateChanged', user);
        if (user) {
        } else {
          window.location.replace("../index.html");
        }
      });
    }
    </script>

    <script>
    //Logout Script
      $("#logout").on("click", function() {
        firebase.auth().signOut().then(function() {
          // Sign-out successful.
          localStorage.clear();
          window.location.href = "index.html";
        }, function(error) {
        	console.log(error);
        });
      });
    </script>


    <script>

    firebase.auth().onAuthStateChanged(function(user) {
      if (user) {
              getUserProfile();
      } else {
        // No user is signed in.
      }
    });

    </script>

  </body>

</html>
